<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <style>
        /* --- EXAMPLES --- */

        div.example-title {
            min-width: 7.5em;
            color: #b9ab2d;
        }

        div.example-title span {
            text-transform: uppercase;
        }

        aside.example,
        div.example,
        div.illegal-example {
            padding: 0.5em;
            margin: 1em 0;
            position: relative;
            clear: both;
        }

        div.illegal-example {
            color: red
        }

        div.illegal-example p {
            color: black
        }

        aside.example,
        div.example {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid;
            border-color: #e0cb52;
            background: #fcfaee;
        }

        aside.example div.example {
            border-left-width: .1em;
            border-color: #999;
            background: #fff;
        }

        aside.example div.example div.example-title {
            color: #999;
        }
    </style>
    <style>
        /* --- ISSUES/NOTES --- */

        div.issue-title,
        div.note-title,
        div.ednote-title,
        div.warning-title {
            padding-right: 1em;
            min-width: 7.5em;
            color: #b9ab2d;
        }

        div.issue-title {
            color: #e05252;
        }

        div.note-title,
        div.ednote-title {
            color: #2b2;
        }

        div.warning-title {
            color: #f22;
        }

        div.issue-title span,
        div.note-title span,
        div.ednote-title span,
        div.warning-title span {
            text-transform: uppercase;
        }

        div.note,
        div.issue,
        div.ednote,
        div.warning {
            margin-top: 1em;
            margin-bottom: 1em;
        }

        .note>p:first-child,
        .ednote>p:first-child,
        .issue>p:first-child,
        .warning>p:first-child {
            margin-top: 0
        }

        .issue,
        .note,
        .ednote,
        .warning {
            padding: .5em;
            border-left-width: .5em;
            border-left-style: solid;
        }

        div.issue,
        div.note,
        div.ednote,
        div.warning {
            padding: 1em 1.2em 0.5em;
            margin: 1em 0;
            position: relative;
            clear: both;
        }

        span.note,
        span.ednote,
        span.issue,
        span.warning {
            padding: .1em .5em .15em;
        }

        .issue {
            border-color: #e05252;
            background: #fbe9e9;
        }

        .note,
        .ednote {
            border-color: #52e052;
            background: #e9fbe9;
        }

        .warning {
            border-color: #f11;
            border-width: .2em;
            border-style: solid;
            background: #fbe9e9;
        }

        .warning-title:before {
            content: "⚠";
            /*U+26A0 WARNING SIGN*/
            font-size: 3em;
            float: left;
            height: 100%;
            padding-right: .3em;
            vertical-align: top;
            margin-top: -0.5em;
        }

        li.task-list-item {
            list-style: none;
        }

        input.task-list-item-checkbox {
            margin: 0 0.35em 0.25em -1.6em;
            vertical-align: middle;
        }
    </style>
    <style>
        /* --- WEB IDL --- */

        pre.idl {
            padding: 1em;
        }

        .respec-idl-separator {
            padding: 0 0 0.4cm 0;
        }

        .respec-idl-separator:last-child {
            padding: 0;
        }

        @media print {
            pre.idl {
                white-space: pre-wrap;
            }
        }

        pre.idl::before {
            content: "WebIDL";
            display: block;
            width: 150px;
            background: #90b8de;
            color: #fff;
            font-family: sans-serif;
            font-weight: bold;
            margin: -1em 0 1em -1em;
            height: 28px;
            line-height: 28px;
        }

        .idlType {
            color: #ff4500;
            font-weight: bold;
            text-decoration: none;
        }
        /*.idlModule*/
        /*.idlModuleID*/
        /*.idlInterface*/

        .idlInterfaceID,
        .idlDictionaryID,
        .idlCallbackID,
        .idlEnumID {
            font-weight: bold;
            color: #005a9c;
        }

        a.idlEnumItem {
            color: #000;
            border-bottom: 1px dotted #ccc;
            text-decoration: none;
        }

        .idlSuperclass {
            font-style: italic;
            color: #005a9c;
        }
        /*.idlAttribute*/

        .idlAttrType,
        .idlFieldType,
        .idlMemberType {
            color: #005a9c;
        }

        .idlAttrName,
        .idlFieldName,
        .idlMemberName {
            color: #ff4500;
        }

        .idlAttrName a,
        .idlFieldName a,
        .idlMemberName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none;
        }
        /*.idlMethod*/

        .idlMethType,
        .idlCallbackType {
            color: #005a9c;
        }

        .idlMethName {
            color: #ff4500;
        }

        .idlMethName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none;
        }
        /*.idlCtor*/

        .idlCtorName {
            color: #ff4500;
        }

        .idlCtorName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none;
        }
        /*.idlParam*/

        .idlParamType {
            color: #005a9c;
        }

        .idlParamName,
        .idlDefaultValue {
            font-style: italic;
        }

        .extAttr {
            color: #666;
        }
        /*.idlSectionComment*/

        .idlSectionComment {
            color: gray;
        }
        /*.idlIterable*/

        .idlIterableKeyType,
        .idlIterableValueType {
            color: #005a9c;
        }
        /*.idlMaplike*/

        .idlMaplikeKeyType,
        .idlMaplikeValueType {
            color: #005a9c;
        }
        /*.idlConst*/

        .idlConstType {
            color: #005a9c;
        }

        .idlConstName {
            color: #ff4500;
        }

        .idlConstName a {
            color: #ff4500;
            border-bottom: 1px dotted #ff4500;
            text-decoration: none;
        }
        /*.idlException*/

        .idlExceptionID {
            font-weight: bold;
            color: #c00;
        }

        .idlTypedefID,
        .idlTypedefType {
            color: #005a9c;
        }

        .idlRaises,
        .idlRaises a.idlType,
        .idlRaises a.idlType code,
        .excName a,
        .excName a code {
            color: #c00;
            font-weight: normal;
        }

        .excName a {
            font-family: monospace;
        }

        .idlRaises a.idlType,
        .excName a.idlType {
            border-bottom: 1px dotted #c00;
        }

        .excGetSetTrue,
        .excGetSetFalse,
        .prmNullTrue,
        .prmNullFalse,
        .prmOptTrue,
        .prmOptFalse {
            width: 45px;
            text-align: center;
        }

        .excGetSetTrue,
        .prmNullTrue,
        .prmOptTrue {
            color: #0c0;
        }

        .excGetSetFalse,
        .prmNullFalse,
        .prmOptFalse {
            color: #c00;
        }

        .idlImplements a {
            font-weight: bold;
        }

        dl.attributes,
        dl.methods,
        dl.constants,
        dl.constructors,
        dl.fields,
        dl.dictionary-members {
            margin-left: 2em;
        }

        .attributes dt,
        .methods dt,
        .constants dt,
        .constructors dt,
        .fields dt,
        .dictionary-members dt {
            font-weight: normal;
        }

        .attributes dt code,
        .methods dt code,
        .constants dt code,
        .constructors dt code,
        .fields dt code,
        .dictionary-members dt code {
            font-weight: bold;
            color: #000;
            font-family: monospace;
        }

        .attributes dt code,
        .fields dt code,
        .dictionary-members dt code {
            background: #ffffd2;
        }

        .attributes dt .idlAttrType code,
        .fields dt .idlFieldType code,
        .dictionary-members dt .idlMemberType code {
            color: #005a9c;
            background: transparent;
            font-family: inherit;
            font-weight: normal;
            font-style: italic;
        }

        .methods dt code {
            background: #d9e6f8;
        }

        .constants dt code {
            background: #ddffd2;
        }

        .constructors dt code {
            background: #cfc;
        }

        .attributes dd,
        .methods dd,
        .constants dd,
        .constructors dd,
        .fields dd,
        .dictionary-members dd {
            margin-bottom: 1em;
        }

        table.parameters,
        table.exceptions {
            border-spacing: 0;
            border-collapse: collapse;
            margin: 0.5em 0;
            width: 100%;
        }

        table.parameters {
            border-bottom: 1px solid #90b8de;
        }

        table.exceptions {
            border-bottom: 1px solid #deb890;
        }

        .parameters th,
        .exceptions th {
            color: inherit;
            padding: 3px 5px;
            text-align: left;
            font-weight: normal;
        }

        .parameters th {
            color: #fff;
            background: #005a9c;
        }

        .exceptions th {
            background: #deb890;
        }

        .parameters td,
        .exceptions td {
            padding: 3px 10px;
            border-top: 1px solid #ddd;
            vertical-align: top;
        }

        .parameters tr:first-child td,
        .exceptions tr:first-child td {
            border-top: none;
        }

        .parameters td.prmName,
        .exceptions td.excName,
        .exceptions td.excCodeName {
            width: 100px;
        }

        .parameters td.prmType {
            width: 120px;
        }

        table.exceptions table {
            border-spacing: 0;
            border-collapse: collapse;
            width: 100%;
        }

        .respec-button-copy-paste:focus {
            text-decoration: none;
            border-color: #51a7e8;
            outline: none;
            box-shadow: 0 0 5px rgba(81, 167, 232, 0.5);
        }

        .respec-button-copy-paste:focus:hover,
        .respec-button-copy-paste.selected:focus {
            border-color: #51a7e8;
        }

        .respec-button-copy-paste:hover,
        .respec-button-copy-paste:active,
        .respec-button-copy-paste.zeroclipboard-is-hover,
        .respec-button-copy-paste.zeroclipboard-is-active {
            text-decoration: none;
            background-color: #ddd;
            background-image: linear-gradient(#eee, #ddd);
            border-color: #ccc;
        }

        .respec-button-copy-paste:active,
        .respec-button-copy-paste.selected,
        .respec-button-copy-paste.zeroclipboard-is-active {
            background-color: #dcdcdc;
            background-image: none;
            border-color: #b5b5b5;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15)
        }

        .respec-button-copy-paste.selected:hover {
            background-color: #cfcfcf;
        }

        .respec-button-copy-paste:disabled,
        .respec-button-copy-paste:disabled:hover,
        .respec-button-copy-paste.disabled,
        .respec-button-copy-paste.disabled:hover {
            color: rgba(102, 102, 102, 0.5);
            cursor: default;
            background-color: rgba(229, 229, 229, 0.5);
            background-image: none;
            border-color: rgba(197, 197, 197, 0.5);
            box-shadow: none;
        }
    </style>
    <title>
        HTML Media Capture
    </title>



    <style id="respec-mainstyle">
        /*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/
        /* Override code highlighter background */

        .hljs {
            background: transparent !important;
        }
        /* --- INLINES --- */

        em.rfc2119 {
            text-transform: lowercase;
            font-style: normal;
            color: #900;
        }

        h1 abbr,
        h2 abbr,
        h3 abbr,
        h4 abbr,
        h5 abbr,
        h6 abbr,
        a abbr {
            border: none;
        }

        dfn {
            font-weight: bold;
        }

        a.internalDFN {
            color: inherit;
            border-bottom: 1px solid #99c;
            text-decoration: none;
        }

        a.externalDFN {
            color: inherit;
            border-bottom: 1px dotted #ccc;
            text-decoration: none;
        }

        a.bibref {
            text-decoration: none;
        }

        cite .bibref {
            font-style: normal;
        }

        code {
            color: #c83500;
        }

        th code {
            color: inherit;
        }
        /* --- TOC --- */

        .toc a,
        .tof a {
            text-decoration: none;
        }

        a .secno,
        a .figno {
            color: #000;
        }

        ul.tof,
        ol.tof {
            list-style: none outside none;
        }

        .caption {
            margin-top: 0.5em;
            font-style: italic;
        }
        /* --- TABLE --- */

        table.simple {
            border-spacing: 0;
            border-collapse: collapse;
            border-bottom: 3px solid #005a9c;
        }

        .simple th {
            background: #005a9c;
            color: #fff;
            padding: 3px 5px;
            text-align: left;
        }

        .simple th[scope="row"] {
            background: inherit;
            color: inherit;
            border-top: 1px solid #ddd;
        }

        .simple td {
            padding: 3px 10px;
            border-top: 1px solid #ddd;
        }

        .simple tr:nth-child(even) {
            background: #f0f6ff;
        }
        /* --- DL --- */

        .section dd>p:first-child {
            margin-top: 0;
        }

        .section dd>p:last-child {
            margin-bottom: 0;
        }

        .section dd {
            margin-bottom: 1em;
        }

        .section dl.attrs dd,
        .section dl.eldef dd {
            margin-bottom: 0;
        }

        #issue-summary>ul,
        .respec-dfn-list {
            column-count: 2;
        }

        #issue-summary li,
        .respec-dfn-list li {
            list-style: none;
        }

        details.respec-tests-details {
            margin-left: 1em;
            display: inline-block;
            vertical-align: top;
        }

        details.respec-tests-details>* {
            padding-right: 2em;
        }

        details.respec-tests-details[open] {
            z-index: 999999;
            position: absolute;
            border: thin solid #cad3e2;
            border-radius: .3em;
            background-color: white;
            padding-bottom: .5em;
        }

        details.respec-tests-details[open]>summary {
            border-bottom: thin solid #cad3e2;
            padding-left: 1em;
            margin-bottom: 1em;
            line-height: 2em;
        }

        details.respec-tests-details>ul {
            width: 100%;
            margin-top: -0.3em;
        }

        details.respec-tests-details>li {
            padding-left: 1em;
        }

        @media print {
            .removeOnSave {
                display: none;
            }
        }
    </style>
    <style>
        /*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

        .hljs {
            display: block;
            overflow-x: auto;
            padding: 0.5em;
            color: #333;
            background: #f8f8f8;
        }

        .hljs-comment,
        .hljs-quote {
            color: #998;
            font-style: italic;
        }

        .hljs-keyword,
        .hljs-selector-tag,
        .hljs-subst {
            color: #333;
            font-weight: bold;
        }

        .hljs-number,
        .hljs-literal,
        .hljs-variable,
        .hljs-template-variable,
        .hljs-tag .hljs-attr {
            color: #008080;
        }

        .hljs-string,
        .hljs-doctag {
            color: #d14;
        }

        .hljs-title,
        .hljs-section,
        .hljs-selector-id {
            color: #900;
            font-weight: bold;
        }

        .hljs-subst {
            font-weight: normal;
        }

        .hljs-type,
        .hljs-class .hljs-title {
            color: #458;
            font-weight: bold;
        }

        .hljs-tag,
        .hljs-name,
        .hljs-attribute {
            color: #000080;
            font-weight: normal;
        }

        .hljs-regexp,
        .hljs-link {
            color: #009926;
        }

        .hljs-symbol,
        .hljs-bullet {
            color: #990073;
        }

        .hljs-built_in,
        .hljs-builtin-name {
            color: #0086b3;
        }

        .hljs-meta {
            color: #999;
            font-weight: bold;
        }

        .hljs-deletion {
            background: #fdd;
        }

        .hljs-addition {
            background: #dfd;
        }

        .hljs-emphasis {
            font-style: italic;
        }

        .hljs-strong {
            font-weight: bold;
        }
    </style>
    <link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/W3C-CR">
    <link rel="canonical" href="https://www.w3.org/TR/html-media-capture/">
    <meta name="generator" content="ReSpec 16.2.1">
    <script id="initialUserConfig" type="application/json">
        {
            "specStatus": "CR",
            "shortName": "html-media-capture",
            "editors": [{
                    "name": "Anssi Kostiainen",
                    "company": "Intel"
                },
                {
                    "name": "Ilkka Oksanen",
                    "company": "Nokia (until May 10, 2012)"
                },
                {
                    "name": "Dominique Hazaël-Massieux",
                    "company": "W3C (until May 10, 2012)"
                }
            ],
            "previousPublishDate": "2017-05-04",
            "previousMaturity": "CR",
            "edDraftURI": "https://w3c.github.io/html-media-capture/",
            "crEnd": "2017-10-30",
            "wg": "Device and Sensors Working Group",
            "wgURI": "https://www.w3.org/2009/dap/",
            "wgPublicList": "public-device-apis",
            "wgPatentURI": "https://www.w3.org/2004/01/pp-impl/43696/status",
            "testSuiteURI": "https://w3c-test.org/html-media-capture/",
            "implementationReportURI": "https://www.w3.org/2009/dap/wiki/ImplementationStatus",
            "otherLinks": [{
                "key": "Participate",
                "data": [{
                        "value": "public-device-apis@w3.org",
                        "href": "https://lists.w3.org/Archives/Public/public-device-apis/"
                    },
                    {
                        "value": "GitHub w3c/html-media-capture",
                        "href": "https://github.com/w3c/html-media-capture/"
                    },
                    {
                        "value": "GitHub w3c/html-media-capture/issues",
                        "href": "https://github.com/w3c/html-media-capture/issues"
                    },
                    {
                        "value": "GitHub w3c/html-media-capture/commits",
                        "href": "https://github.com/w3c/html-media-capture/commits/"
                    }
                ]
            }],
            "publishDate": "2017-08-31",
            "publishISODate": "2017-08-31T00:00:00.000Z",
            "generatedSubtitle": "Candidate Recommendation 31 August 2017"
        }
    </script>
</head>

<body aria-busy="false" class="h-entry" id="respecDocument">
    <div class="head" role="contentinfo" id="respecHeader">
        <p>
            <a class="logo" href="https://www.w3.org/"><img src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" alt="W3C" height="48" width="72"></a>
        </p>
        <p></p>
        <h1 class="title p-name" id="title">HTML Media Capture</h1>
        <h2 id="w3c-candidate-recommendation-31-august-2017"><abbr title="World Wide Web Consortium">W3C</abbr> Candidate Recommendation <time class="dt-published" datetime="2017-08-31">31 August 2017</time></h2>
        <dl>
            <dt>This version:</dt>
            <dd><a class="u-url" href="https://www.w3.org/TR/2017/CR-html-media-capture-20170831/">https://www.w3.org/TR/2017/CR-html-media-capture-20170831/</a></dd>
            <dt>Latest published version:</dt>
            <dd><a href="https://www.w3.org/TR/html-media-capture/">https://www.w3.org/TR/html-media-capture/</a></dd>
            <dt>Latest editor's draft:</dt>
            <dd><a href="https://w3c.github.io/html-media-capture/">https://w3c.github.io/html-media-capture/</a></dd>
            <dt>Test suite:</dt>
            <dd><a href="https://w3c-test.org/html-media-capture/">https://w3c-test.org/html-media-capture/</a></dd>
            <dt>Implementation report:</dt>
            <dd><a href="https://www.w3.org/2009/dap/wiki/ImplementationStatus">https://www.w3.org/2009/dap/wiki/ImplementationStatus</a></dd>
            <dt>Previous version:</dt>
            <dd><a href="https://www.w3.org/TR/2017/CR-html-media-capture-20170504/">https://www.w3.org/TR/2017/CR-html-media-capture-20170504/</a></dd>
            <dt>Editors:</dt>
            <dd class="p-author h-card vcard"><span class="p-name fn">Anssi Kostiainen</span>, Intel</dd>
            <dd class="p-author h-card vcard"><span class="p-name fn">Ilkka Oksanen</span>, Nokia (until May 10, 2012)</dd>
            <dd class="p-author h-card vcard"><span class="p-name fn">Dominique Hazaël-Massieux</span>, <abbr title="World Wide Web Consortium">W3C</abbr> (until May 10, 2012)</dd>

            <dt>Participate:</dt>
            <dd>
                <a href="https://lists.w3.org/Archives/Public/public-device-apis/">
                      public-device-apis@w3.org
                    </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/html-media-capture/">
                      GitHub w3c/html-media-capture
                    </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/html-media-capture/issues">
                      GitHub w3c/html-media-capture/issues
                    </a>
            </dd>
            <dd>
                <a href="https://github.com/w3c/html-media-capture/commits/">
                      GitHub w3c/html-media-capture/commits
                    </a>
            </dd>
        </dl>
        <p class="copyright">
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2017

            <a href="https://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="https://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>,
            <a href="https://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
            <a href="https://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>).
            <abbr title="World Wide Web Consortium">W3C</abbr> <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
            <a href="https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and
            <a rel="license" href="https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">permissive document license</a> rules apply.
        </p>
        <hr title="Separator for header">
    </div>
    <section id="abstract" class="introductory">
        <h2 id="abstract-0">Abstract</h2>
        The <cite>HTML Media Capture</cite> specification defines an HTML form extension that facilitates user access to a device's <a href="#dfn-media-capture-mechanism" class="internalDFN" data-link-type="dfn">media capture
      mechanism</a>, such as a camera, or microphone, from within a file upload control.
    </section>
    <section id="sotd" class="introductory">
        <h2 id="status-of-this-document">Status of This Document</h2>
        <p>
            <em>This section describes the status of this document at the time of its publication. Other documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this technical report can be found in the <a href="https://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical reports index</a> at https://www.w3.org/TR/.</em>
        </p>

        <p>
            Since <a href="https://www.w3.org/TR/2017/CR-html-media-capture-20170504/">Candidate
                Recommendation 04 May 2017</a>, the <a data-link-for="HTMLInputElement" href="#dom-htmlinputelement-capture" class="internalDFN" data-link-type="dfn"><code>capture</code></a> IDL attribute was <a href="https://github.com/w3c/html-media-capture/commit/2c531e8293be61b75066188f52694ab4cef1e8a6">
                    changed</a> from an enumeration into a <code>DOMString</code>. This change aligns this specification with the HTML specification changes that <a href="https://github.com/whatwg/html/pull/2585">removed the IDL
                    enumeration reflection</a>.
                    </p>
                    <p>
                        The CR exit criterion is two interoperable deployed implementations of each feature.
                    </p>
                    <p>
                        No features are marked as 'at-risk'.
        </p>

        <p>
            This document was published by the <a href="https://www.w3.org/2009/dap/">Device and Sensors Working Group</a> as a Candidate Recommendation. This document is intended to become a <abbr title="World Wide Web Consortium">W3C</abbr> Recommendation.
            Comments regarding this document are welcome. Please send them to
            <a href="mailto:public-device-apis@w3.org">public-device-apis@w3.org</a> (<a href="mailto:public-device-apis-request@w3.org?subject=subscribe">subscribe</a>,
            <a href="https://lists.w3.org/Archives/Public/public-device-apis/">archives</a>).
            <abbr title="World Wide Web Consortium">W3C</abbr> publishes a Candidate Recommendation to indicate that the document is believed to be stable and to encourage implementation by the developer community. This Candidate Recommendation is expected
            to advance to Proposed Recommendation no earlier than 30 October 2017.
        </p>
        <p>
            Please see the Working Group's <a href="https://www.w3.org/2009/dap/wiki/ImplementationStatus">implementation
            report</a>.
        </p>
        <p>
            Publication as a Candidate Recommendation does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership. This is a draft document and may be updated, replaced or obsoleted by other documents at any time. It
            is inappropriate to cite this document as other than work in progress.
        </p>
        <p>
            This document was produced by a group operating under the
            <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004 <abbr title="World Wide Web Consortium">W3C</abbr> Patent
            Policy</a>.
            <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/2004/01/pp-impl/43696/status" rel="disclosure">public list of any patent
              disclosures</a> made in connection with the deliverables of the group; that page also includes instructions for disclosing a patent. An individual who has actual knowledge of a patent which the individual believes contains
            <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
            Claim(s)</a> must disclose the information in accordance with
            <a href="https://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
            6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>.
        </p>
        <p>This document is governed by the <a id="w3c_process_revision" href="https://www.w3.org/2017/Process-20170301/">1 March 2017 <abbr title="World Wide Web Consortium">W3C</abbr> Process Document</a>.
        </p>


    </section>
    <nav id="toc">
        <h2 class="introductory" id="table-of-contents">Table of Contents</h2>
        <ol class="toc" role="directory">
            <li class="tocline"><a href="#introduction" class="tocxref"><span class="secno">1. </span>
        Introduction
      </a></li>
            <li class="tocline"><a href="#conformance" class="tocxref"><span class="secno">2. </span>Conformance</a></li>
            <li class="tocline"><a href="#terminology" class="tocxref"><span class="secno">3. </span>
        Terminology
      </a></li>
            <li class="tocline"><a href="#security" class="tocxref"><span class="secno">4. </span>
        Security and privacy considerations
      </a></li>
            <li class="tocline"><a href="#the-capture-attribute" class="tocxref"><span class="secno">5. </span>
        The <span data-dfn-for="htmlinputelement" data-dfn-type="dfn" data-idl="" data-title="capture"><code>capture</code></span> attribute
      </a></li>
            <li class="tocline"><a href="#examples" class="tocxref"><span class="secno">A. </span>
        Examples
      </a></li>
            <li class="tocline"><a href="#references" class="tocxref"><span class="secno">B. </span>References</a>
                <ol class="toc">
                    <li class="tocline"><a href="#normative-references" class="tocxref"><span class="secno">B.1 </span>Normative references</a></li>
                    <li class="tocline"><a href="#informative-references" class="tocxref"><span class="secno">B.2 </span>Informative references</a></li>
                </ol>
            </li>
        </ol>
    </nav>
    <section class="informative" id="introduction">
        <!--OddPage-->
        <h2 id="x1.-introduction"><span class="secno">1. </span> Introduction
        </h2>
        <p><em>This section is non-normative.</em></p>
        <p data-link-for="HTMLInputElement">
            The <cite>HTML Media Capture</cite> specification extends the
            <a data-link-type="dfn" href="https://www.w3.org/TR/html51/sec-forms.html#htmlinputelement-htmlinputelement"><code>HTMLInputElement</code></a> interface with a <a href="#dom-htmlinputelement-capture" class="internalDFN" data-link-type="dfn"><code>capture</code></a>            attribute. The
            <a href="#dom-htmlinputelement-capture" class="internalDFN" data-link-type="dfn"><code>capture</code></a> attribute allows authors to declaratively request use of a <a href="#dfn-media-capture-mechanism" class="internalDFN" data-link-type="dfn">media capture mechanism</a>,
            such as a camera or microphone, from within a file upload control, for capturing media on the spot.
        </p>
        <p>
            This extension is specifically designed to be simple and declarative, and covers a subset of the media capture functionality of the web platform. Specifically, the extension does not provide detailed author control over capture. Use cases requiring more
            fine-grained author control may be met by using another specification, <cite>Media Capture
        and Streams</cite> [<cite><a class="bibref" href="#bib-MEDIACAPTURE-STREAMS">MEDIACAPTURE-STREAMS</a></cite>]. For example, access to real-time media streams from the hosting device is out of scope for this specification.
        </p>
    </section>
    <section id="conformance">
        <!--OddPage-->
        <h2 id="x2.-conformance"><span class="secno">2. </span>Conformance</h2>
        <p>
            As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.
        </p>
        <p id="respecRFC2119">The key words <em class="rfc2119">MUST</em>, <em class="rfc2119">MUST NOT</em>, and <em class="rfc2119">SHOULD</em> are to be interpreted as described in [<cite><a class="bibref" href="#bib-RFC2119">RFC2119</a></cite>].
        </p>

        <p>
            This specification defines conformance criteria that apply to a single product: the <dfn data-dfn-type="dfn" id="dfn-user-agent">user agent</dfn> that implements the interfaces that it contains.
        </p>
        <p>
            Implementations that use ECMAScript to implement the APIs defined in this specification must implement them in a manner consistent with the ECMAScript Bindings defined in the Web IDL specification [<cite><a class="bibref" href="#bib-WEBIDL-1">WEBIDL-1</a></cite>],
            as this specification uses that specification and terminology.
        </p>
    </section>
    <section id="terminology">
        <!--OddPage-->
        <h2 id="x3.-terminology"><span class="secno">3. </span> Terminology
        </h2>
        <p>
            The <dfn data-dfn-type="dfn" id="dfn-input"><a href="https://www.w3.org/TR/html51/sec-forms.html#the-input-element"><code>input</code></a></dfn> element, its <dfn data-dfn-type="dfn" id="dfn-type"><a href="https://www.w3.org/TR/html51/sec-forms.html#element-attrdef-input-type"><code>type</code></a></dfn>            attribute,
            <dfn data-dfn-for="" data-dfn-type="dfn" id="dom-htmlinputelement" data-idl="" data-title="HTMLInputElement"><a href="https://www.w3.org/TR/html51/sec-forms.html#htmlinputelement-htmlinputelement"><code>HTMLInputElement</code></a></dfn> interface,
            <dfn data-dfn-type="dfn" id="dfn-accept"><a href="https://www.w3.org/TR/html51/sec-forms.html#element-attrdef-input-accept"><code>accept</code></a></dfn> attribute, <dfn data-dfn-type="dfn" id="dfn-file-upload"><a href="https://www.w3.org/TR/html51/sec-forms.html#element-statedef-input-file-upload">File
        Upload</a></dfn> state, <dfn data-dfn-type="dfn" id="dfn-enumerated-attribute"><a href="https://www.w3.org/TR/html51/infrastructure.html#enumerated-attributes">enumerated attribute</a></dfn>,
            <dfn data-dfn-type="dfn" id="dfn-missing-value-default"><a href="https://www.w3.org/TR/html51/infrastructure.html#missing-value-default">missing value
        default</a></dfn>, <dfn data-dfn-type="dfn" id="dfn-invalid-value-default"><a href="https://www.w3.org/TR/html51/infrastructure.html#invalid-value-default">invalid
        value default</a></dfn>, and <dfn data-dfn-type="dfn" id="dfn-reflect"><a href="https://www.w3.org/TR/html51/infrastructure.html#reflection">reflect</a></dfn> are defined in [<cite><a class="bibref" href="#bib-HTML51">HTML51</a></cite>].
        </p>
        <p>The <dfn data-dfn-type="dfn" id="dfn-x[cereactions]"><a href="https://www.w3.org/TR/custom-elements/#cereactions"><code>[CEReactions]</code></a></dfn> WebIDL extended attribute is defined in [<cite><a class="bibref" href="#bib-custom-elements">custom-elements</a></cite>].</p>
        <p>
            The <dfn data-dfn-type="dfn" id="dfn-videofacingmodeenum"><a href="https://www.w3.org/TR/mediacapture-streams/#def-constraint-facingMode"><code>VideoFacingModeEnum</code></a></dfn> enumeration is defined in [<cite><a class="bibref" href="#bib-MEDIACAPTURE-STREAMS">MEDIACAPTURE-STREAMS</a></cite>].
        </p>
        <p>
            The <dfn data-dfn-type="dfn" id="dfn-filelist"><a href="https://www.w3.org/TR/FileAPI/#dfn-filelist"><code>FileList</code></a></dfn> interface is defined in [<cite><a class="bibref" href="#bib-FILE-API">FILE-API</a></cite>].
        </p>
        <p>
            In this specification, the term <dfn data-dfn-type="dfn" id="dfn-capture-control-type">capture control type</dfn> refers to a specialized type of a file picker control that is optimized, for the user, for directly capturing media of a MIME
            type specified by the
            <a data-link-type="dfn" href="https://www.w3.org/TR/html51/sec-forms.html#element-attrdef-input-accept"><code>accept</code></a> attribute, using a <a href="#dfn-media-capture-mechanism" class="internalDFN" data-link-type="dfn">media capture mechanism</a>            in its
            <a href="#dfn-preferred-facing-mode" class="internalDFN" data-link-type="dfn">preferred facing mode</a>.
        </p>
        <p>
            The term <dfn data-dfn-type="dfn" id="dfn-media-capture-mechanism">media capture mechanism</dfn> refers to a device's local media capture device, such as a camera or microphone.
        </p>
        <p>
            The <dfn data-dfn-type="dfn" id="dfn-preferred-facing-mode">preferred facing mode</dfn> is a hint for the direction of the device's <a href="#dfn-media-capture-mechanism" class="internalDFN" data-link-type="dfn">media capture mechanism</a>            to be used.
        </p>
    </section>
    <section id="security" class="informative">
        <!--OddPage-->
        <h2 id="x4.-security-and-privacy-considerations"><span class="secno">4. </span> Security and privacy considerations
        </h2>
        <p><em>This section is non-normative.</em></p>
        <p>
            A User Agent implementation of this specification is advised to seek user consent before initiating capture of content by microphone or camera. This may be necessary to meet regulatory, legal and best practice requirements related to the privacy of user
            data. In addition, the User Agent implementation is advised to provide an indication to the user when an input device is enabled and make it possible for the user to terminate such capture. Similarly, the User Agent is advised to offer user
            control, such as to allow the user to:
        </p>
        <ul>
            <li>select the exact media capture device to be used if there exist multiple devices of the same type (e.g. a front-facing camera in addition to a primary camera).
            </li>
            <li>disable sound capture when in the video capture mode.
            </li>
        </ul>
        <p>
            This specification builds upon the security and privacy protections provided by the <code>&lt;input type="file"&gt;</code> [<cite><a class="bibref" href="#bib-HTML51">HTML51</a></cite>] and the [
            <cite><a class="bibref" href="#bib-FILE-API">FILE-API</a></cite>] specifications; in particular, it is expected that any offer to start capturing content from the user’s device would require a specific user interaction on an HTML element that
            is entirely controlled by the user agent.
        </p>
        <p>
            Implementors should take care to prevent additional leakage of privacy-sensitive data from captured media. For instance, embedding the user’s location in the metadata of captured media (e.g. EXIF) might transmit more private data than the user is expecting.
        </p>
    </section>
    <section data-dfn-for="HTMLInputElement" data-link-for="HTMLInputElement" id="the-capture-attribute">
        <!--OddPage-->
        <h2 id="x5.-the-capture-attribute"><span class="secno">5. </span> The <dfn data-dfn-for="htmlinputelement" data-dfn-type="dfn" id="dom-htmlinputelement-capture" data-idl="" data-title="capture"><code>capture</code></dfn> attribute
        </h2>
        <p>
            When an <a data-link-type="dfn" href="https://www.w3.org/TR/html51/sec-forms.html#the-input-element"><code>input</code></a> element's <a data-link-type="dfn" href="https://www.w3.org/TR/html51/sec-forms.html#element-attrdef-input-type"><code>type</code></a>            attribute is in the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/sec-forms.html#element-statedef-input-file-upload">File
        Upload</a> state, and its <a data-link-type="dfn" href="https://www.w3.org/TR/html51/sec-forms.html#element-attrdef-input-accept"><code>accept</code></a> attribute is specified, the rules in this section apply.
        </p>
        <div>
            <pre class="def idl"><span class="idlInterface" id="idl-def-htmlinputelement-partial-1" data-idl="" data-title="HTMLInputElement">partial interface <span class="idlInterfaceID"><a data-lt="HTMLInputElement" data-link-type="dfn" href="https://www.w3.org/TR/html51/sec-forms.html#htmlinputelement-htmlinputelement" data-for=""><code>HTMLInputElement</code></a></span> {
<span class="idlAttribute" id="idl-def-htmlinputelement-capture" data-idl="" data-title="capture" data-dfn-for="htmlinputelement">    [<span class="extAttr"><span class="extAttrName"><a href="https://html.spec.whatwg.org/multipage/#cereactions">CEReactions</a></span></span>]
    attribute <span class="idlAttrType"><a href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <span class="idlAttrName"><a data-lt="capture" href="#dom-htmlinputelement-capture" class="internalDFN" data-link-type="dfn" data-for="HTMLInputElement"><code>capture</code></a></span>;</span>
};</span></pre>
        </div>
        <div>
            <p>
                The <a href="#dom-htmlinputelement-capture" class="internalDFN" data-link-type="dfn"><code>capture</code></a> attribute is an <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#enumerated-attributes">enumerated attribute</a>                whose state specifies the <a href="#dfn-preferred-facing-mode" class="internalDFN" data-link-type="dfn">preferred facing mode</a> for the <a href="#dfn-media-capture-mechanism" class="internalDFN" data-link-type="dfn">media
          capture mechanism</a>.
            </p>
            <p>
                The attribute's keywords are <dfn data-dfn-type="dfn" id="dfn-user"><code>user</code></dfn> and
                <dfn data-dfn-type="dfn" id="dfn-environment"><code>environment</code></dfn>, which map to the respective states <var>user</var> and <var>environment</var>. The semantics of the states <var>user</var> and <var>environment</var> mirror
                the similarly named enumeration values defined in
                <a data-link-type="dfn" href="https://www.w3.org/TR/mediacapture-streams/#def-constraint-facingMode"><code><code>VideoFacingModeEnum</code></code></a>.
            </p>
            <p>
                In addition, there is a third state, the
                <var>implementation-specific</var> state.
            </p>
            <p>
                The <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#missing-value-default">missing value default</a> is the
                <var>implementation-specific</var> state. The <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#invalid-value-default">invalid value
          default</a> is also the <var>implementation-specific</var> state.
            </p>
            <div class="note">
                <div class="note-title marker" aria-level="3" role="heading" id="h-note1"><span>Note</span></div>
                <p class="">
                    If the user agent is unable to support the <a href="#dfn-preferred-facing-mode" class="internalDFN" data-link-type="dfn">preferred facing
          mode</a>, it can fall back to the implementation-specific default facing mode that maps to the <var>implementation-specific</var> state that indicates the implementation is to act according to its default behavior.
                </p>
            </div>
            <p>
                The <a href="#dom-htmlinputelement-capture" class="internalDFN" data-link-type="dfn"><code>capture</code></a> IDL attribute <em class="rfc2119" title="MUST">MUST</em> <a data-link-type="dfn" href="https://www.w3.org/TR/html51/infrastructure.html#reflection">reflect</a>                the respective content attribute of the same name.
            </p>
            <p>
                When the <a href="#dom-htmlinputelement-capture" class="internalDFN" data-link-type="dfn"><code>capture</code></a> attribute is specified, the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn">user agent</a>
                <em class="rfc2119" title="SHOULD">SHOULD</em> invoke a file picker of the specific <a href="#dfn-capture-control-type" class="internalDFN" data-link-type="dfn">capture control
          type</a>.
            </p>
            <p>
                When the <a href="#dom-htmlinputelement-capture" class="internalDFN" data-link-type="dfn"><code>capture</code></a> attribute is specified, the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn">user agent</a>
                <em class="rfc2119" title="MUST NOT">MUST NOT</em> save the captured media to any data storage, local or remote.
            </p>
            <div class="note">
                <div class="note-title marker" aria-level="3" role="heading" id="h-note2"><span>Note</span></div>
                <div class="">
                    When scripts gain access to the files selected from the file picker (represented by a <a data-link-type="dfn" href="https://www.w3.org/TR/FileAPI/#dfn-filelist"><code>FileList</code></a> object), they can use various mechanisms to
                    store the captured media. These mechanisms are out of scope for this specification.
                </div>
            </div>
            <p>
                If the <a data-link-type="dfn" href="https://www.w3.org/TR/html51/sec-forms.html#element-attrdef-input-accept"><code>accept</code></a> attribute's value is set to a MIME type that has no associated <a href="#dfn-capture-control-type" class="internalDFN"
                    data-link-type="dfn">capture control type</a>, the <a href="#dfn-user-agent" class="internalDFN" data-link-type="dfn">user agent</a> <em class="rfc2119" title="MUST">MUST</em> act as if there was no <a href="#dom-htmlinputelement-capture"
                    class="internalDFN" data-link-type="dfn"><code>capture</code></a> attribute.
            </p>
        </div>
    </section>
    <section class="appendix informative" id="examples">
        <!--OddPage-->
        <h2 id="a.-examples"><span class="secno">A. </span> Examples
        </h2>
        <p><em>This section is non-normative.</em></p>
        <p>
            The following examples demonstrate how to give hints that it is preferred for the user to capture media of a specific MIME type using the media capture capabilities of the hosting device. Both a simple declarative example using an HTML form, as well as
            a more advanced example including scripting, are presented.
        </p>
        <ul>
            <li id="example-1">To take a picture using the device's user-facing camera, and upload the picture taken using an HTML form:
                <div class="example">
                    <div class="example-title marker"><span>Example 1</span></div>
                    <pre class="hljs xml" aria-busy="false" aria-live="polite"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"server.cgi"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">"multipart/form-data"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"image"</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">"image/*"</span> <span class="hljs-attr">capture</span>=<span class="hljs-string">"user"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Upload"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></pre>
                </div>
            </li>
            <li>Or alternatively, to capture video using the device's local video camera facing the environment:
                <div class="example">
                    <div class="example-title marker"><span>Example 2</span></div>
                    <pre class="hljs xml" aria-busy="false" aria-live="polite"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"server.cgi"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">"multipart/form-data"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"video"</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">"video/*"</span> <span class="hljs-attr">capture</span>=<span class="hljs-string">"environment"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Upload"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></pre>
                </div>
            </li>
            <li>Or alternatively, to capture audio using the device's local microphone (without <a href="#dfn-preferred-facing-mode" class="internalDFN" data-link-type="dfn">preferred facing mode</a> defined, falls back to the implementation-specific default
                facing mode):
                <div class="example">
                    <div class="example-title marker"><span>Example 3</span></div>
                    <pre class="hljs xml" aria-busy="false" aria-live="polite"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"server.cgi"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"post"</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">"multipart/form-data"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"audio"</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">"audio/*"</span> <span class="hljs-attr">capture</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Upload"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></pre>
                </div>
            </li>
            <li id="example-4" data-link-for="HTMLInputElement">For more advanced use cases, specify the <a href="#dom-htmlinputelement-capture" class="internalDFN" data-link-type="dfn"><code>capture</code></a> attribute in markup:
                <div class="example">
                    <div class="example-title marker"><span>Example 4</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite">&lt;input type=<span class="hljs-string">"file"</span> accept=<span class="hljs-string">"image/*"</span> capture&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">canvas</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span></span></pre>
                </div>And handle the file upload in script via
                <code>XMLHttpRequest</code>:
                <div class="example">
                    <div class="example-title marker"><span>Example 5</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite"><span class="hljs-keyword">var</span> input = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input[type=file]'</span>); <span class="hljs-comment">// see Example 4</span>

input.onchange = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> file = input.files[<span class="hljs-number">0</span>];

  upload(file);
  drawOnCanvas(file);   <span class="hljs-comment">// see Example 6</span>
  displayAsImage(file); <span class="hljs-comment">// see Example 7</span>
};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">upload</span>(<span class="hljs-params">file</span>) </span>{
  <span class="hljs-keyword">var</span> form = <span class="hljs-keyword">new</span> FormData(),
      xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();

  form.append(<span class="hljs-string">'image'</span>, file);
  xhr.open(<span class="hljs-string">'post'</span>, <span class="hljs-string">'server.php'</span>, <span class="hljs-literal">true</span>);
  xhr.send(form);
}</pre>
                </div>The image can also be displayed on the client-side without uploading it e.g. for client-side image editing purposes, using the <code>
          FileReader</code> and a <code>canvas</code> element:
                <div class="example">
                    <div class="example-title marker"><span>Example 6</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">drawOnCanvas</span>(<span class="hljs-params">file</span>) </span>{
  <span class="hljs-keyword">var</span> reader = <span class="hljs-keyword">new</span> FileReader();

  reader.onload = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> dataURL = e.target.result,
        c = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'canvas'</span>), <span class="hljs-comment">// see Example 4</span>
        ctx = c.getContext(<span class="hljs-string">'2d'</span>),
        img = <span class="hljs-keyword">new</span> Image();

    img.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      c.width = img.width;
      c.height = img.height;
      ctx.drawImage(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
    };

    img.src = dataURL;
  };

  reader.readAsDataURL(file);
}</pre>
                </div>Or alternatively, to just display the image, using the <code>
          createObjectURL()</code> method and an <code>img</code> element:
                <div class="example">
                    <div class="example-title marker"><span>Example 7</span></div>
                    <pre class="hljs javascript" aria-busy="false" aria-live="polite"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">displayAsImage</span>(<span class="hljs-params">file</span>) </span>{
  <span class="hljs-keyword">var</span> imgURL = URL.createObjectURL(file),
      img = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'img'</span>);

  img.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    URL.revokeObjectURL(imgURL);
  };

  img.src = imgURL;
  <span class="hljs-built_in">document</span>.body.appendChild(img);
}</pre>
                </div>
            </li>
        </ul>
        <p data-link-for="HTMLInputElement">
            When an <a data-link-type="dfn" href="https://www.w3.org/TR/html51/sec-forms.html#the-input-element"><code>input</code></a> element's <a data-link-type="dfn" href="https://www.w3.org/TR/html51/sec-forms.html#element-attrdef-input-accept"><code>accept</code></a>            attribute is set to
            <code>image/*</code> and the <a href="#dom-htmlinputelement-capture" class="internalDFN" data-link-type="dfn"><code>capture</code></a> attribute is specified as in the <a href="#example-1">Example 1</a> or <a href="#example-4">Example 4</a>,
            the file picker may render as presented on the right side. When the attribute is not specified, the file picker may render as represented on the left side.
        </p>
        <p>
            <img alt="A File picker control in the File Upload (left) and Image Capture state (right)." src="images/capture-api-file-picker-concept.png">
        </p>
    </section>


    <section id="references" class="appendix">
        <!--OddPage-->
        <h2 id="b.-references"><span class="secno">B. </span>References</h2>
        <section id="normative-references">
            <h3 id="b.1-normative-references"><span class="secno">B.1 </span>Normative references</h3>
            <dl class="bibliography"><dt id="bib-FILE-API">[FILE-API]</dt>
                <dd><a href="https://www.w3.org/TR/FileAPI/"><cite>File API</cite></a>. Arun Ranganathan; Jonas Sicking. W3C. 21 April 2015. W3C Working Draft. URL: <a href="https://www.w3.org/TR/FileAPI/">https://www.w3.org/TR/FileAPI/</a>
                </dd><dt id="bib-HTML51">[HTML51]</dt>
                <dd><a href="https://www.w3.org/TR/html51/"><cite>HTML 5.1 2nd Edition</cite></a>. Steve Faulkner; Arron Eicholz; Travis Leithead; Alex Danilo. W3C. 3 August 2017. W3C Proposed Recommendation. URL: <a href="https://www.w3.org/TR/html51/">https://www.w3.org/TR/html51/</a>
                </dd><dt id="bib-MEDIACAPTURE-STREAMS">[MEDIACAPTURE-STREAMS]</dt>
                <dd><a href="https://www.w3.org/TR/mediacapture-streams/"><cite>Media Capture and Streams</cite></a>. Daniel Burnett; Adam Bergkvist; Cullen Jennings; Anant Narayanan; Bernard Aboba. W3C. 19 May 2016. W3C Candidate Recommendation. URL:
                    <a
                        href="https://www.w3.org/TR/mediacapture-streams/">https://www.w3.org/TR/mediacapture-streams/</a>
                </dd><dt id="bib-RFC2119">[RFC2119]</dt>
                <dd><a href="https://tools.ietf.org/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. S. Bradner. IETF. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
                </dd><dt id="bib-WEBIDL-1">[WEBIDL-1]</dt>
                <dd><a href="https://www.w3.org/TR/2016/REC-WebIDL-1-20161215/"><cite>WebIDL Level 1</cite></a>. Cameron McCormack. W3C. 15 December 2016. W3C Recommendation. URL: <a href="https://www.w3.org/TR/2016/REC-WebIDL-1-20161215/">https://www.w3.org/TR/2016/REC-WebIDL-1-20161215/</a>
                </dd><dt id="bib-custom-elements">[custom-elements]</dt>
                <dd><a href="https://www.w3.org/TR/custom-elements/"><cite>Custom Elements</cite></a>. Domenic Denicola. W3C. 13 October 2016. W3C Working Draft. URL: <a href="https://www.w3.org/TR/custom-elements/">https://www.w3.org/TR/custom-elements/</a>
                </dd>
            </dl>
        </section>
        <section id="informative-references">
            <h3 id="b.2-informative-references"><span class="secno">B.2 </span>Informative references</h3>
            <dl class="bibliography"><dt id="bib-HTML">[HTML]</dt>
                <dd><a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren; Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters. WHATWG. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
                </dd><dt id="bib-WEBIDL">[WEBIDL]</dt>
                <dd><a href="https://heycam.github.io/webidl/"><cite>Web IDL</cite></a>. Cameron McCormack; Boris Zbarsky; Tobie Langel. W3C. 15 December 2016. W3C Editor's Draft. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
                </dd>
            </dl>
        </section>
    </section>
    <p role="navigation" id="back-to-top"><a href="#toc"><abbr title="Back to Top">↑</abbr></a></p>
    <script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
</body>

</html>